app.directive("savingAction",function(){return{restrict:"E",templateUrl:"/js/saving-action/directives/templates/saving-action.html",controller:function(n,e,a){a.saving=!1,a.changed=!1,a.input="default value",a.saved=!1,a.growl=!1,a.capsule=!0,a.capsuleOpen=function(){return a.capsule===!0},a.closeCapsule=function(){a.capsule=!1},a.changeMade=function(){return a.changed===!0},a.makeChange=function(n){switch(n){case 0:a.changed=!1;break;case 1:a.changed=!0}},a.revertChanges=function(){a.input=a.saved?a.input:"default value",a.changed=!1,a.saved=!1},a.lapClean=function(){a.changed=!1,a.saved=!0},a.activeGrowl=function(){return a.growl===!0},a.setSave=function(n){1===n&&a.changed?(a.saving=!0,e(function(){a.saving=!1,a.saved=!0,a.lapClean()},2e3),e(function(){a.growl=!0,a.capsule=!1},2500),e(function(){a.growl=!1},4500)):a.saving=!1},a.isSaving=function(){return a.saving?!0:void 0},a.isSaved=function(){return a.saved===!0}}}});